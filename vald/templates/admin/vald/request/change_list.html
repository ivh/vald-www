{% extends "admin/change_list.html" %}

{% block content %}
{% if queue_stats %}
<div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 12px 16px; margin-bottom: 20px;">
    <strong>Job Queue:</strong>
    {{ queue_stats.queue_size }} / {{ queue_stats.max_queue_size }} pending
    ({{ queue_stats.max_workers }} workers)
    {% if queue_stats.queue_size >= queue_stats.max_queue_size %}
    <span style="color: #dc3545; font-weight: bold;">⚠ QUEUE FULL</span>
    {% elif queue_stats.queue_size > queue_stats.max_queue_size|divisibleby:2 %}
    <span style="color: #ffc107;">⚠ High load</span>
    {% endif %}
</div>
{% endif %}
{{ block.super }}
{% endblock %}
